<!--
  ~ The contents of this file are subject to the OpenMRS Public License
  ~ Version 1.0 (the "License"); you may not use this file except in
  ~ compliance with the License. You may obtain a copy of the License at
  ~ http://license.openmrs.org
  ~
  ~ Software distributed under the License is distributed on an "AS IS"
  ~ basis, WITHOUT WARRANTY OF ANY KIND, either express or implied. See the
  ~ License for the specific language governing rights and limitations
  ~ under the License.
  ~
  ~ Copyright (C) OpenMRS, LLC.  All Rights Reserved.

-->
<htmlform>

    <script type="text/javascript" src="../moduleResources/kenyaemr/scripts/moment.js"></script>
    <script type="text/javascript">

        var tetenus_selected  = function () {
            var testingOption = getValue("tetenus_selected.value");
            if(testingOption ==164957) {

                jq("#couple-discordant input[value=1065]").prop("disabled", true);
            }
            if(testingOption ==164958){
                jq("#couple-discordant input[value=1065]").prop("disabled", false);

            }
        }


        //On Ready
        $(document).ready(function () {


            //Consent validation
            jq('#tetenus_selected input').prop("disabled", true);
            jq("#couple-testing input").change(tetenus_selected);

        });
        //Before Submitsk
        beforeSubmit.push(function() {


        });
    </script>

    <!--=============Work flow==================-->
    <ifMode mode="VIEW" include="true">
        <div>
            <table style="width: 100%">
                <tr>
                    <td align="left">
                        Immunization Date:
                    </td>
                    <td>
                        Vaccine Given
                    </td>
                    <td align="right">
                        Gender Identity:
                    </td>
                </tr>
                <tr>
                    <td>
                        Adverse Events
                    </td>
                    <td>
                        Test
                    </td>
                    <td align="right">
                        Test
                    </td>
                </tr>
            </table>
        </div>

    </ifMode>
    <!-- ============ end work flow =================-->

    <div class="ke-form-header">
        <table style="width: 100%">
            <tr>
                <td>
                    <ifMode mode="ENTER">
                        <script type="text/javascript">
                            jq(function(){
                                setValue("encounter-date.value", "");
                            });
                        </script>
                    </ifMode>
                    <ifMode mode="EDIT">
                        <script type="text/javascript">
                            jq(function(){

                                //First test
                                var firstTest = getField("hiv-test1-result.value").val();
                                //Negative
                                if(firstTest ==664) {

                                    jq("#hiv-test2-result select").prop("disabled", true);
                                    jq(".kit-name2 select").prop("disabled", true);
                                    jq(".lot-number2 input").prop("disabled", true);
                                    jq("#expiry-date2 input").prop("disabled", true);
                                    getField('hiv-final-result.value').val(664);
                                    jq('#ccc-no input').prop("disabled", true);
                                }

                            });
                        </script>
                    </ifMode>
                    Immunization date: <encounterDate id="encounter-date" showTime="true" required="true"/>
                </td>
                <td>Provider : <encounterProvider default="currentUser" /></td>
                <td>Location: <encounterLocation default="GlobalProperty:kenyaemr.defaultLocation" /></td>
            </tr>
        </table>
    </div>

    <div class="ke-form-content">

        <fieldset>
            <legend>Immunization and Vaccination</legend>
            <table border="0" width="100%" cellspacing="0" cellpadding="0">
                <tr>
                    <td width="156" valign="top"><p>Have you received any vaccination/ immunization</p></td>
                    <td width="156" valign="top"><p>  <obs class="consent" conceptId="5853AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" required="true"
                                                           style="yes_no" /></p></td>
                    <td width="156" valign="top"><p>Specify immunization/ vaccine given:</p></td>
                    <td width="156" valign="top"><p>
                        <obs id="hiv-test1-result" conceptId="984"
                             answerConceptIds="5665AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
                                               159711AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
                                               73193AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
                                               73354AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
                                               129850AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
                                               78032AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
                                               77424AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
                                               77429AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
                                               159696AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
                                               159708AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
                                               79409AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
                                               79554AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
                                               80193AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
                                               82215AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
                                               82243AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
                                               83533AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
                                               83563AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
                                               129638AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
                                               1656AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
                                               83050AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
                                               129658AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
                                               86022AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
                                               86556AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA
                                               "
                             style="autocomplete" answerLabels="ARV Prophylaxis, Cervical Cancer Vaccine, Chickenpox (Varicella), Cholera Vaccine, Diphtheria, Flu (Influenza), Hepatitis A, Hepatitis B,
                             Hib, Human Papillomavirus (HPV), Measles, Meningococcal, Mumps, Pneumococcal, Polio, Rotavirus, Rubella, Tetanus, Whooping Cough (Pertussis), Rabies, Smallpox, Typhoid Fever, and  Yellow Fever "/>

                    </p></td>
                </tr>
                <tr>
                    <td width="156" valign="top"><p>If tetanus is selected, specify the category of vaccination    given:</p></td>
                    <td width="156" valign="top"><p>   <obs id="tetenus_selected" conceptId="124957AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
                                                            answerConceptIds="124953AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
                                                            124954AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
                                                            128163AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
                                                            152276AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,
                                                            17AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA,"
                                                            style="dropdown" /></p></td>
                    <td width="156" valign="top"><p>Date Given</p></td>
                    <td width="156" valign="top"><p> <obs id="immunization-date" conceptId="162502AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" allowFutureDates="false"
                    /></p></td>
                </tr>
                <tr>
                    <td width="156" valign="top"><p>Any adverse event after immunization /    vaccination</p></td>
                    <td width="156" valign="top"><p><obs class="consent" conceptId="1710AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA" required="true"
                                                         style="yes_no" /></p></td>
                    <td width="156" valign="top"><table border="0" cellpadding="0">
                        <tr>
                            <td></td>
                            <td><p>Describe the adverse event(s)</p></td>
                        </tr>
                    </table></td>
                    <td width="156" valign="top"><p>  <obs class="remarks" conceptId="163042AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"  rows="5" cols="40"
                    /></p></td>
                </tr>
                <tr>
                    <td width="156" valign="top"><p>What is the vaccination/immunization validity</p></td>
                    <td width="156" valign="top"><p> <obs id="treatmentMedication" conceptId="165047"/></p></td>
                    <td width="156" valign="top"><table border="0" cellpadding="0">
                        <tr>
                            <td></td>
                            <td></td>
                        </tr>
                    </table></td>
                    <td width="156" valign="top"><p></p></td>
                </tr>
            </table>

        </fieldset>

    </div>
    <div class="ke-form-footer">
        <submit/>
    </div>

</htmlform>